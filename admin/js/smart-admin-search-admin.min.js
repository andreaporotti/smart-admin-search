(function(b){b.fn.sasSelect2=b.fn.select2;"undefined"!==typeof currentSelect2&&null!==currentSelect2&&(b.fn.select2=currentSelect2);b(function(){function m(a){return a.loading?a.text:b(`
				<div class="sas-search-result">
					<div class="sas-search-result__icon wp-menu-image dashicons-before ${a.icon_class}" style="${a.style}"></div>
					<div class="sas-search-result__info">
						<div class="sas-search-result__name">${a.text}</div>
						<div class="sas-search-result__description">${a.description}</div>
						<div class="sas-search-result__link-url">${a.link_url}</div>
					</div>
				</div>
				`)}function n(a){return""===a.id?sas_values.strings.search_select_placeholder:a.text}function g(){e.addClass("sas-search-modal--opened");h.addClass("prevent-scroll");c.sasSelect2({dropdownParent:e,width:"100%",placeholder:sas_values.strings.search_select_placeholder,minimumInputLength:3,allowClear:!0,templateResult:m,templateSelection:n,ajax:{method:"GET",url:sas_values.ajax.search_url,delay:400,beforeSend:function(a){a.setRequestHeader("X-WP-NONCE",sas_values.ajax.nonce)},data:function(a){return{query:a.term}},
processResults:function(a){return{results:a}}}});setTimeout(function(){c.sasSelect2("open")},300)}function f(){c.hasClass("select2-hidden-accessible")&&(e.removeClass("sas-search-modal--opened"),h.removeClass("prevent-scroll"),c.sasSelect2("destroy"),c.empty())}let k=b(document),h=b("body"),e=b(".sas-search-modal"),p=b(".sas-search-modal__close"),c=b(".sas-search-modal__select"),l=b("#wp-admin-bar-sas_icon");l.on("mousedown",function(){g()});l.on("click",function(a){a.preventDefault()});let q=sas_values.options.search_keys_shortcut.sort().map(Number),
d=[];k.on("keydown",function(a){b(a.srcElement).hasClass("sas-skip-global-keypress")||(!1===d.includes(a.which)&&d.push(a.which),JSON.stringify(d.sort())===JSON.stringify(q)?g():d.includes(27)&&f())});k.on("keyup",function(a){b(a.srcElement).hasClass("sas-skip-global-keypress")||(d=[])});e.on("click",function(a){a.target===this&&f()});p.on("click",function(a){a.target===this&&f()});c.on("select2:select",function(a){a=a.params.data;null!==a.link_url&&""!==a.link_url&&(window.location.href=a.link_url)})})})(jQuery);